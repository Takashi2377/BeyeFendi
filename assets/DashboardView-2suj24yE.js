import{a as _,_ as m,r,o as d,c as v,b as t,d as n,w as l,e as u,h as k,u as $,l as T,F as x}from"./index-2x8rP7w5.js";import{u as f}from"./toastMessage-9czl95KY.js";import{T as B}from"./ToastMessages-JT8cLj3o.js";import{S as h}from"./sweetalert2.all-6XatNS0t.js";var M={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"yuetin-hexschool",BASE_URL:"/BeyeFendi/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:V}=M,R={methods:{..._(f,["pushMessage"]),logout(){const a=`${V}/logout`;h.fire({title:"確定登出?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"登出",cancelButtonText:"返回"}).then(s=>{s.isConfirmed&&(this.$http.post(a).then(e=>{this.pushMessage({style:"success",title:"登出狀態",content:e.data.message}),document.cookie="hexToken=;expires=;",this.$router.push("/login")}).catch(e=>{this.pushMessage({style:"danger",title:"登出狀態",content:e.response.data.message})}),h.fire({title:"已成功登出",icon:"success"}))})}}},y={class:"navbar navbar-expand-lg navbar-dark bg-dark"},E={class:"container-fluid"},L=t("a",{class:"navbar-brand",href:"#"},"BeyeFendi",-1),D=t("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"},[t("span",{class:"navbar-toggler-icon"})],-1),N={class:"collapse navbar-collapse",id:"navbarNavAltMarkup"},w={class:"navbar-nav"};function A(a,s,e,g,p,c){const o=r("RouterLink");return d(),v("nav",y,[t("div",E,[L,D,t("div",N,[t("div",w,[n(o,{to:"/admin/products",class:"nav-link"},{default:l(()=>[u("產品")]),_:1}),n(o,{to:"/admin/orders",class:"nav-link"},{default:l(()=>[u("訂單")]),_:1}),n(o,{to:"/admin/coupons",class:"nav-link"},{default:l(()=>[u("優惠券")]),_:1}),t("a",{href:"#",onClick:s[0]||(s[0]=k((...i)=>c.logout&&c.logout(...i),["prevent"])),class:"nav-link"},"登出")])])])])}const S=m(R,[["render",A]]);var C={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"yuetin-hexschool",BASE_URL:"/BeyeFendi/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:I}=C,U={components:{DashBoardNavbarLayout:S,ToastMessages:B},data(){return{status:!1}},methods:{..._(f,["pushMessage"])},created(){const a=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=`${a}`;const s=`${I}/api/user/check`;this.$http.post(s).then(e=>{this.pushMessage({style:"success",title:"成功登入",content:e.data.message}),this.status=!0}).catch(e=>{this.pushMessage({style:"danger",title:"錯誤訊息",content:e.response.data.message}),this.$router.push("/")})}},F={class:"container-fluid mt-3 position-relative"};function O(a,s,e,g,p,c){const o=r("DashBoardNavbarLayout"),i=r("ToastMessages"),b=r("RouterView");return d(),v(x,null,[n(o),t("div",F,[n(i),p.status?(d(),$(b,{key:0})):T("",!0)])],64)}const q=m(U,[["render",O]]);export{q as default};
